<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gx.dao.AiUserMapper">
	<resultMap id="BaseResultMap" type="com.gx.po.AiUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		<constructor>
			<idArg column="ai_u_id" javaType="java.lang.Integer"
				jdbcType="INTEGER" />
			<arg column="ai_u_nickname" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_u_username" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_u_password" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_u_roleID" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_u_campainID" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_status" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="ai_campID" javaType="java.lang.String"
				jdbcType="VARCHAR" />



		</constructor>
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		ai_u_id,
		ai_u_nickname,
		ai_u_username,
		ai_u_password,
		ai_u_roleID,
		ai_u_campainID,
		ai_status,ai_campID

	</sql>

	<!-- 根据id 查询 user -->
	<select id="selectByPrimaryKey"
		parameterType="java.lang.Integer" resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		select
		<include refid="Base_Column_List" />
		from ai_user
		where ai_u_id = #{ai_u_id,jdbcType=INTEGER}
	</select>


	<delete id="deleteByPrimaryKey"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		delete from ai_user
		where ai_u_id = #{ai_u_id,jdbcType=INTEGER}
	</delete>


	<insert id="insert" parameterType="com.gx.po.AiUser">


		insert into ai_user (
		ai_u_nickname,
		ai_u_username,
		ai_u_password,
		ai_u_roleID,
		ai_u_campainID,
		ai_status,ai_campID
		)
		values (

		#{ai_u_nickname,jdbcType=VARCHAR},
		#{ai_u_username,jdbcType=VARCHAR},
		#{ai_u_password,jdbcType=VARCHAR},
		#{ai_u_roleID,jdbcType=VARCHAR},
		#{ai_u_campainID,jdbcType=VARCHAR},
		#{ai_status,jdbcType=VARCHAR},
		#{ai_campID,jdbcType=VARCHAR}


		)
	</insert>
	<!-- <insert id="insertSelective" parameterType="com.gx.po.User"> WARNING 
		- @mbggenerated This element is automatically generated by MyBatis Generator, 
		do not modify. This element was generated on Mon Nov 06 14:52:45 CST 2017. 
		<selectKey keyProperty="userid" order="AFTER" resultType="java.lang.Integer"> 
		SELECT LAST_INSERT_ID() </selectKey> insert into user <trim prefix="(" suffix=")" 
		suffixOverrides=","> <if test="username != null"> username, </if> <if test="password 
		!= null"> password, </if> </trim> <trim prefix="values (" suffix=")" suffixOverrides=","> 
		<if test="username != null"> #{username,jdbcType=VARCHAR}, </if> <if test="password 
		!= null"> #{password,jdbcType=VARCHAR}, </if> </trim> </insert> -->
	<update id="updateByPrimaryKeyforAiuser"
		parameterType="com.gx.po.AiUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		update ai_user
		<set>
			<if test="ai_u_nickname != null">
				ai_u_nickname = #{ai_u_nickname,jdbcType=VARCHAR}
			</if>
			<if test="ai_u_password != null">
				, ai_u_password = #{ai_u_password,jdbcType=VARCHAR}
			</if>
			<if test="ai_u_roleID != null">
				, ai_u_roleID = #{ai_u_roleID,jdbcType=VARCHAR}
			</if>
			<if test="ai_u_campainID != null">
				, ai_u_campainID = #{ai_u_campainID,jdbcType=VARCHAR}
			</if>
			<if test="ai_status != null">
				, ai_status = #{ai_status,jdbcType=VARCHAR}
			</if>
			<if test="ai_campID != null">
				, ai_campID = #{ai_campID,jdbcType=VARCHAR}
			</if>





		</set>
		where ai_u_id = #{ai_u_id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.gx.po.AiUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Nov 06 
			14:52:45 CST 2017. -->
		update user
		set username = #{username,jdbcType=VARCHAR},
		password = #{password,jdbcType=VARCHAR}
		where userId = #{userid,jdbcType=INTEGER}
	</update>

	<!-- 自定义方法 -->
	<select id="findAll" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from ai_user
	</select>


	<select id="findBySQL" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from ai_user

		${findBySQL}
	</select>



	<resultMap id="RoleResultMap" type="com.gx.vo.AiUserRole">
		<constructor>
			<idArg column="id" jdbcType="INTEGER"
				javaType="java.lang.Integer" />
			<arg column="RoleName" jdbcType="VARCHAR"
				javaType="java.lang.String" />
			<arg column="Level" jdbcType="VARCHAR"
				javaType="java.lang.String" />
			<arg column="CreatTime" jdbcType="INTEGER"
				javaType="java.lang.String" />
			<arg column="Status" jdbcType="VARCHAR"
				javaType="java.lang.String" />

			<arg column="ai_u_id" jdbcType="VARCHAR"
				javaType="java.lang.Integer" />
			<arg column="ai_u_nickname" jdbcType="VARCHAR"
				javaType="java.lang.String" />
			<arg column="ai_u_username" jdbcType="VARCHAR"
				javaType="java.lang.String" />
			<arg column="ai_u_password" jdbcType="VARCHAR"
				javaType="java.lang.String" />
			<arg column="ai_u_campainID" jdbcType="VARCHAR"
				javaType="java.lang.String" />

			<arg column="ai_status" jdbcType="VARCHAR"
				javaType="java.lang.String" />



		</constructor>
	</resultMap>
	<sql id="Role_Column_List">
		ai_role.id,
		ai_role.RoleName,
		ai_role.Level,
		ai_role.CreatTime,
		ai_role.Status,
		ai_user.ai_u_id,
		ai_user.ai_u_nickname,
		ai_user.ai_u_username,
		ai_user.ai_u_password,
		ai_user.ai_u_campainID,
		ai_user.ai_status
	</sql>

	<select id="findRoleBySQL" resultMap="RoleResultMap">
		select
		<include refid="Role_Column_List" />
		FROM ai_user join ai_role on ai_role.id = ai_user.ai_u_roleID
		${findRoleBySQL}
	</select>

	<resultMap id="RowCountResultMap" type="com.gx.vo.RowCount">
		<constructor>
			<idArg column="count" jdbcType="INTEGER"
				javaType="java.lang.Integer" />
		</constructor>
	</resultMap>
	<sql id="RowCount_Column_List">
		count(user.userId) count
	</sql>

	<select id="rowCount" resultMap="RowCountResultMap">
		select
		<include refid="RowCount_Column_List" />
		from user
		join power on user.userId = power.userId
		${findRowCountByVoSQL}
	</select>

	<!-- <select id="findPageByVoSQL" resultMap="VoResultMap" > select <include 
		refid="Vo_Column_List" /> from user join power on user.userId = power.userId 
		${findPageByVoSQL} limit ${currentPage},${pageSize} </select> -->


</mapper>